/*
 * Ancestris - http://www.ancestris.org
 * 
 * Copyright 2020 Ancestris
 * 
 * Author: Frédéric Lapeyre (frederic@ancestris.org).
 * 
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 */
package ancestris.app;

import genj.gedcom.Gedcom;
import org.openide.util.NbBundle;

/**
 *
 * @author frederic
 */
public class DisplaySettingsPanel extends javax.swing.JPanel {

    private Gedcom gedcom = null;
    private boolean existDefaultSettings = false;

    /**
     * Creates new form DisplaySettingsPanel
     */
    public DisplaySettingsPanel(Gedcom gedcom, boolean existGedcomSettings, boolean existDefaultSettings, String date) {
        this.gedcom = gedcom;
        this.existDefaultSettings = existDefaultSettings;

        initComponents();
        dateLabel.setText(NbBundle.getMessage(this.getClass(), "DisplaySettingsPanel.dateLabel.text", date));

        currentLabel.setEnabled(gedcom != null);
        saveCurrentRadioButton.setEnabled(gedcom != null);
        resetCurrentRadioButton.setEnabled(gedcom != null);
        saveUserRadioButton.setEnabled(gedcom != null);
        gedcomSettingsFlag.setEnabled(existGedcomSettings);
        defaultSettingsFlag.setEnabled(existDefaultSettings);

        if (gedcom != null) {
            saveCurrentRadioButton.setSelected(true);
        } else if (existDefaultSettings) {
            resetUserRadioButton.setSelected(true);
        } else {
            resetAllLayoutRadioButton.setSelected(true);
        }

    }

    /**
     * This method is called from within the constructor to initialize the form. WARNING: Do NOT modify this code. The content of this method is always regenerated by the Form Editor.
     */
    @SuppressWarnings("unchecked")
    // <editor-fold defaultstate="collapsed" desc="Generated Code">//GEN-BEGIN:initComponents
    private void initComponents() {

        buttonGroup1 = new javax.swing.ButtonGroup();
        currentLabel = new javax.swing.JLabel();
        jLabel1 = new javax.swing.JLabel();
        saveCurrentRadioButton = new javax.swing.JRadioButton();
        resetCurrentRadioButton = new javax.swing.JRadioButton();
        jLabel2 = new javax.swing.JLabel();
        userLabel = new javax.swing.JLabel();
        saveUserRadioButton = new javax.swing.JRadioButton();
        resetUserRadioButton = new javax.swing.JRadioButton();
        jLabel3 = new javax.swing.JLabel();
        allLayoutLabel = new javax.swing.JLabel();
        resetAllLayoutRadioButton = new javax.swing.JRadioButton();
        gedcomSettingsFlag = new javax.swing.JLabel();
        defaultSettingsFlag = new javax.swing.JLabel();
        dateLabel = new javax.swing.JLabel();

        setPreferredSize(new java.awt.Dimension(600, 300));

        currentLabel.setFont(new java.awt.Font("Bitstream Vera Sans", 1, 12)); // NOI18N
        org.openide.awt.Mnemonics.setLocalizedText(currentLabel, org.openide.util.NbBundle.getMessage(DisplaySettingsPanel.class, "DisplaySettingsPanel.currentLabel.text", gedcom != null ? gedcom.getDisplayName()+" " : ""));

        jLabel1.setIcon(new javax.swing.ImageIcon(getClass().getResource("/ancestris/view/images/OpenDefault.png"))); // NOI18N
        org.openide.awt.Mnemonics.setLocalizedText(jLabel1, org.openide.util.NbBundle.getMessage(DisplaySettingsPanel.class, "DisplaySettingsPanel.jLabel1.text")); // NOI18N

        buttonGroup1.add(saveCurrentRadioButton);
        org.openide.awt.Mnemonics.setLocalizedText(saveCurrentRadioButton, org.openide.util.NbBundle.getMessage(DisplaySettingsPanel.class, "DisplaySettingsPanel.saveCurrentRadioButton.text")); // NOI18N
        saveCurrentRadioButton.setToolTipText(org.openide.util.NbBundle.getMessage(DisplaySettingsPanel.class, "DisplaySettingsPanel.saveCurrentRadioButton.toolTipText")); // NOI18N
        saveCurrentRadioButton.setActionCommand(org.openide.util.NbBundle.getMessage(DisplaySettingsPanel.class, "DisplaySettingsPanel.saveCurrentRadioButton.actionCommand")); // NOI18N

        buttonGroup1.add(resetCurrentRadioButton);
        org.openide.awt.Mnemonics.setLocalizedText(resetCurrentRadioButton, org.openide.util.NbBundle.getMessage(DisplaySettingsPanel.class, "DisplaySettingsPanel.resetCurrentRadioButton.text", existDefaultSettings ? org.openide.util.NbBundle.getMessage(DisplaySettingsPanel.class, "DisplaySettingsPanel.resetCurrentRadioButton.userLayout") : org.openide.util.NbBundle.getMessage(DisplaySettingsPanel.class, "DisplaySettingsPanel.resetCurrentRadioButton.AncestrisLayout")));
        resetCurrentRadioButton.setToolTipText(org.openide.util.NbBundle.getMessage(DisplaySettingsPanel.class, "DisplaySettingsPanel.resetCurrentRadioButton.toolTipText")); // NOI18N
        resetCurrentRadioButton.setActionCommand(org.openide.util.NbBundle.getMessage(DisplaySettingsPanel.class, "DisplaySettingsPanel.resetCurrentRadioButton.actionCommand")); // NOI18N

        jLabel2.setIcon(new javax.swing.ImageIcon(getClass().getResource("/ancestris/view/images/SaveLayout.png"))); // NOI18N
        org.openide.awt.Mnemonics.setLocalizedText(jLabel2, org.openide.util.NbBundle.getMessage(DisplaySettingsPanel.class, "DisplaySettingsPanel.jLabel2.text")); // NOI18N

        userLabel.setFont(new java.awt.Font("Bitstream Vera Sans", 1, 12)); // NOI18N
        org.openide.awt.Mnemonics.setLocalizedText(userLabel, org.openide.util.NbBundle.getMessage(DisplaySettingsPanel.class, "DisplaySettingsPanel.userLabel.text")); // NOI18N

        buttonGroup1.add(saveUserRadioButton);
        org.openide.awt.Mnemonics.setLocalizedText(saveUserRadioButton, org.openide.util.NbBundle.getMessage(DisplaySettingsPanel.class, "DisplaySettingsPanel.saveUserRadioButton.text", gedcom != null ? gedcom.getDisplayName()+" " : ""));
        saveUserRadioButton.setToolTipText(org.openide.util.NbBundle.getMessage(DisplaySettingsPanel.class, "DisplaySettingsPanel.saveUserRadioButton.toolTipText")); // NOI18N
        saveUserRadioButton.setActionCommand(org.openide.util.NbBundle.getMessage(DisplaySettingsPanel.class, "DisplaySettingsPanel.saveUserRadioButton.actionCommand")); // NOI18N

        buttonGroup1.add(resetUserRadioButton);
        org.openide.awt.Mnemonics.setLocalizedText(resetUserRadioButton, org.openide.util.NbBundle.getMessage(DisplaySettingsPanel.class, "DisplaySettingsPanel.resetUserRadioButton.text")); // NOI18N
        resetUserRadioButton.setToolTipText(org.openide.util.NbBundle.getMessage(DisplaySettingsPanel.class, "DisplaySettingsPanel.resetUserRadioButton.toolTipText")); // NOI18N
        resetUserRadioButton.setActionCommand(org.openide.util.NbBundle.getMessage(DisplaySettingsPanel.class, "DisplaySettingsPanel.resetUserRadioButton.actionCommand")); // NOI18N

        jLabel3.setIcon(new javax.swing.ImageIcon(getClass().getResource("/ancestris/view/images/Options.png"))); // NOI18N
        org.openide.awt.Mnemonics.setLocalizedText(jLabel3, org.openide.util.NbBundle.getMessage(DisplaySettingsPanel.class, "DisplaySettingsPanel.jLabel3.text")); // NOI18N

        allLayoutLabel.setFont(new java.awt.Font("Bitstream Vera Sans", 1, 12)); // NOI18N
        org.openide.awt.Mnemonics.setLocalizedText(allLayoutLabel, org.openide.util.NbBundle.getMessage(DisplaySettingsPanel.class, "DisplaySettingsPanel.allLayoutLabel.text")); // NOI18N

        buttonGroup1.add(resetAllLayoutRadioButton);
        org.openide.awt.Mnemonics.setLocalizedText(resetAllLayoutRadioButton, org.openide.util.NbBundle.getMessage(DisplaySettingsPanel.class, "DisplaySettingsPanel.resetAllLayoutRadioButton.text")); // NOI18N
        resetAllLayoutRadioButton.setToolTipText(org.openide.util.NbBundle.getMessage(DisplaySettingsPanel.class, "DisplaySettingsPanel.resetAllLayoutRadioButton.toolTipText")); // NOI18N
        resetAllLayoutRadioButton.setActionCommand(org.openide.util.NbBundle.getMessage(DisplaySettingsPanel.class, "DisplaySettingsPanel.resetAllLayoutRadioButton.actionCommand")); // NOI18N

        gedcomSettingsFlag.setIcon(new javax.swing.ImageIcon(getClass().getResource("/ancestris/view/images/Defined.png"))); // NOI18N
        org.openide.awt.Mnemonics.setLocalizedText(gedcomSettingsFlag, org.openide.util.NbBundle.getMessage(DisplaySettingsPanel.class, "DisplaySettingsPanel.gedcomSettingsFlag.text")); // NOI18N

        defaultSettingsFlag.setIcon(new javax.swing.ImageIcon(getClass().getResource("/ancestris/view/images/Defined.png"))); // NOI18N
        org.openide.awt.Mnemonics.setLocalizedText(defaultSettingsFlag, org.openide.util.NbBundle.getMessage(DisplaySettingsPanel.class, "DisplaySettingsPanel.defaultSettingsFlag.text")); // NOI18N

        org.openide.awt.Mnemonics.setLocalizedText(dateLabel, org.openide.util.NbBundle.getMessage(DisplaySettingsPanel.class, "DisplaySettingsPanel.dateLabel.text")); // NOI18N

        javax.swing.GroupLayout layout = new javax.swing.GroupLayout(this);
        this.setLayout(layout);
        layout.setHorizontalGroup(
            layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
            .addGroup(layout.createSequentialGroup()
                .addGap(18, 18, 18)
                .addGroup(layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
                    .addComponent(jLabel1)
                    .addComponent(jLabel2)
                    .addComponent(jLabel3))
                .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.RELATED)
                .addGroup(layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
                    .addGroup(layout.createSequentialGroup()
                        .addGroup(layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
                            .addComponent(resetAllLayoutRadioButton)
                            .addGroup(layout.createSequentialGroup()
                                .addComponent(resetUserRadioButton)
                                .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.RELATED)
                                .addComponent(dateLabel))
                            .addComponent(saveUserRadioButton)
                            .addComponent(resetCurrentRadioButton)
                            .addComponent(saveCurrentRadioButton))
                        .addGap(0, 0, Short.MAX_VALUE))
                    .addGroup(layout.createSequentialGroup()
                        .addGroup(layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
                            .addComponent(userLabel)
                            .addComponent(currentLabel))
                        .addGap(18, 18, 18)
                        .addGroup(layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
                            .addComponent(defaultSettingsFlag)
                            .addComponent(gedcomSettingsFlag))
                        .addContainerGap(68, Short.MAX_VALUE))
                    .addGroup(layout.createSequentialGroup()
                        .addComponent(allLayoutLabel)
                        .addContainerGap(313, Short.MAX_VALUE))))
        );
        layout.setVerticalGroup(
            layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
            .addGroup(layout.createSequentialGroup()
                .addGap(18, 18, 18)
                .addGroup(layout.createParallelGroup(javax.swing.GroupLayout.Alignment.BASELINE)
                    .addComponent(currentLabel)
                    .addComponent(jLabel1)
                    .addComponent(gedcomSettingsFlag))
                .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.RELATED)
                .addComponent(saveCurrentRadioButton)
                .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.RELATED)
                .addComponent(resetCurrentRadioButton)
                .addGap(18, 18, 18)
                .addGroup(layout.createParallelGroup(javax.swing.GroupLayout.Alignment.BASELINE)
                    .addComponent(userLabel)
                    .addComponent(jLabel2)
                    .addComponent(defaultSettingsFlag))
                .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.RELATED)
                .addComponent(saveUserRadioButton)
                .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.RELATED)
                .addGroup(layout.createParallelGroup(javax.swing.GroupLayout.Alignment.BASELINE)
                    .addComponent(resetUserRadioButton)
                    .addComponent(dateLabel))
                .addGap(18, 18, 18)
                .addGroup(layout.createParallelGroup(javax.swing.GroupLayout.Alignment.BASELINE)
                    .addComponent(allLayoutLabel)
                    .addComponent(jLabel3))
                .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.RELATED)
                .addComponent(resetAllLayoutRadioButton)
                .addContainerGap(71, Short.MAX_VALUE))
        );
    }// </editor-fold>//GEN-END:initComponents


    // Variables declaration - do not modify//GEN-BEGIN:variables
    private javax.swing.JLabel allLayoutLabel;
    private javax.swing.ButtonGroup buttonGroup1;
    private javax.swing.JLabel currentLabel;
    private javax.swing.JLabel dateLabel;
    private javax.swing.JLabel defaultSettingsFlag;
    private javax.swing.JLabel gedcomSettingsFlag;
    private javax.swing.JLabel jLabel1;
    private javax.swing.JLabel jLabel2;
    private javax.swing.JLabel jLabel3;
    private javax.swing.JRadioButton resetAllLayoutRadioButton;
    private javax.swing.JRadioButton resetCurrentRadioButton;
    private javax.swing.JRadioButton resetUserRadioButton;
    private javax.swing.JRadioButton saveCurrentRadioButton;
    private javax.swing.JRadioButton saveUserRadioButton;
    private javax.swing.JLabel userLabel;
    // End of variables declaration//GEN-END:variables

    public String getAction() {
        return buttonGroup1.getSelection().getActionCommand();
    }

}
